// Title: Navigation Component
// Author: Kenneth DahlstrÃ¸m
// 
// Copyright:
// This file is subject to the terms and conditions defined in
// file 'LICENSE.md', which is part of this source code package.
.global-search-vertical() {
  #global-search {
    position: absolute;
    top: 0;
  }
  #search-close {
    display: none;
  }
  #global-search-input {
    width: 240px;
    height: 44px;
    line-height: 44px;
    background: url(../images/icons/search.svg) no-repeat top right;
    background-size: 1.2rem 1.2rem;
    background-position: 21rem 1.6rem;
    border: none;
    border-bottom: 1px solid lighten(#000, 60%);
  }
  #header {
    .input-group-btn {
      display: none;
    }
  }
}
.global-search-horizontal() {
  //#search-close{
  //  display: none;
  //}
  #global-search-input {
    position: absolute;
    right: 5rem;
    width: 31rem;
    top: 1.7rem;
    opacity: 1;
    transition: opacity .3s ease;
    //transform: translateZ(1);
  }
  #global-search {
    width: 5rem;
    padding: 0;
    margin: 0;
    height: 3.8rem;
    position: relative;
    //float: left;
    //line-height: 6rem;
    //width: auto;
    //height: auto;
    .btn {
      //background-color: @white;
      z-index: 99;
      &:hover {
        background-color: @btn-primary-bg;
      }
    }
    #search-close {
      position: absolute;
      right: 6rem;
      top: 2.5rem;
      z-index: 9;
      width: 1.6rem;
      height: 1.6rem;
      background: url(../images/icons/cross.svg) no-repeat;
      background-size: 100% 100%;
      transition: opacity .3s ease;
      //transition-delay: .3s;
      opacity: 1;
      display: block;
    }
    &.initial {
      #global-search-input {
        opacity: 0;
        width: 0;
        padding: 0;
        border: none;
      }
      #search-close {
        right: 1rem;
        opacity: 0;
        display: none;
      }
      #search {
        border-top-left-radius: .4rem;
        border-bottom-left-radius: .4rem;
      }
    }
  }
}
.breadcrumb-horizontal() {
  #breadcrumb {
    font-size: 1.4rem;
    &:before {
      content: "";
      height: 4.4rem;
      position: absolute;
      left: 0;
      width: 100%;
      background: @hiof-blue;
      z-index: -1;
    }
    ol {
      margin-bottom: 0;
    }
    li {
      display: inline-block;
      list-style: none;
      line-height: 4.4rem;
      position: relative;
      margin-left: -.4rem;
      a {
        color: @white;
        padding: 0 4.4rem;
        padding-right: 2.2rem;
      }
      &:first-child {
        a {
          padding-left: 2.2rem;
        }
      }
      &:before, &:after {
        content: "";
        display: block;
        width: 0;
        height: 0;
        border-top: 22px solid transparent;
        border-left: 22px solid @white;
        border-bottom: 22px solid transparent;
        top: 0;
        position: absolute;
        z-index: 1;
        right: -20px;
      }
      &:before {
        //right: 0;
      }
      &:after {
        right: -18px;
        border-left-color: @hiof-blue;
      }
      &:hover {
        background-color: lighten(@hiof-blue, 20%);
        &:after {
          border-left-color: lighten(@hiof-blue, 20%);
        }
      }
    }
  }
}
.breadcrumb-vertical() {
  #breadcrumb {
    background-color: @hiof-blue;
    padding: 0;
    ol {
      //padding: 0;
      margin: 0;
    }
    a {
      color: @white;
      display: block;
      text-align: center;
      //padding-left: 2rem;
      padding-top: .5rem;
      line-height: 4.4rem;
    }
    li {
      border-bottom: .1rem solid @white;
      //text-align: center;
      position: relative;
      .gfx-arrow-down(@hiof-blue, @white, 4.9rem);
      &:last-child {
        &:before, &:after {
          display: none;
        }
      }
    }
  }
  // TODO: Temp hack until a better solution is implemented.
  #study {

    padding-top: 7rem !important;

    footer {
      position: absolute;
      top: -1rem;
      left: 0;
      bottom: auto !important;
      background-color: transparent !important;
      margin-left: 0 !important;
      //width: 90% !important;
      //height: 6rem;
      .nav{
        li{
          display: none;
          &:first-child{
            display: block;
            //margin-left: .5rem;
            margin-right: 1rem;
            .btn{
              border-radius: .2rem;
              background-color: @color-primary-action;
              //margin: 0 1rem;
            }
          }
        }
      }
    }
  }
}
.nav-horizontal() {
  .global-search-horizontal();
  #nav {
    ul {
      ul {
        display: none;
        position: absolute;
        top: 100%;
        left: -2rem;
        &:before, &:after {
          content: "";
          display: block;
          position: absolute;
          top: -.8rem;
          left: 5rem;
          width: 0;
          height: 0;
          border-left: 8px solid transparent;
          border-right: 8px solid transparent;
          z-index: 999999;
        }
        &:before {
          top: -.9rem;
          border-bottom: 8px solid lighten(#000, 60%);
        }
        &:after {
          border-bottom: 8px solid @white;
        }
        li {
          display: block;
          //width: 26rem;
          background: @white;
          //border-radius: @border-radius-standard;
          //color: @white;
          margin-right: 0;
          a {
            //color: @hiof-blue;
            //border-bottom: .1rem solid @hiof-blue;
            //display: block;
            //padding: 0 2rem;
            font-size: 1.6rem;
          }
          &:last-child {
            a {
              border-bottom: none;
            }
            border-bottom-left-radius: @border-radius-standard;
            border-bottom-right-radius: @border-radius-standard;
          }
          ul {
            top: 0;
            left: 100%;
            margin-left: .8rem;
            //background: pink;
            &:before, &:after {
              content: "";
              display: block;
              position: absolute;
              top: .8rem;
              left: -.8rem;
              width: 0;
              height: 0;
              border-left: none;
              //border-right: 8px solid transparent;
              border-top: 8px solid transparent;
              //border-right: 100px solid red;
              border-bottom: 8px solid transparent;
              z-index: 999999;
            }
            &:before {
              left: -.9rem;
              border-right: 8px solid lighten(#000, 60%);
            }
            &:after {
              border-right: 8px solid @white;
            }
          }
        }
      }
      li {
        display: inline-block;
        list-style: none;
        position: relative;
        cursor: pointer;
        &:hover {
          > ul {
            display: block;
          }
        }
        ul {
          li {
            &:hover {
              ul {
                display: block;
              }
            }
          }
        }
      }
    }
  }
  //.active-path{
  //  background: lighten(@color-primary-action, 50%);
  //  position: relative;
  //  &:before,
  //  &:after{
  //    content: "";
  //    display: block;
  //  }
  //}
  //#universal-access{
  //  //color: @color-primary-action;
  //  #icon-universal-access{
  //  }
  //  .item{
  //    fill: @color-primary-action;
  //  }
  //}
  .light {
    .btn-line {
      color: @white;
      border-color: @white;
      &:hover {
        border-color: @color-primary-action;
      }
    }
    //#universal-access{
    //  color: @white;
    //  #icon-universal-access{
    //  }
    //  .item{
    //    fill: @white;
    //  }
    //}
  }
  .dark {
    .btn-line {
      color: @black;
      border-color: @black;
      &:hover {
        border-color: @color-primary-action;
      }
    }
    //#universal-access{
    //  color: @white;
    //  #icon-universal-access{
    //  }
    //  .item{
    //    fill: @white;
    //  }
    //}
  }
  .mobile-pages, .mobile-user, .mobile-internal {
    display: none;
  }
  #nav-page .nav {
    .nav {
      margin-left: 2rem;
      margin-bottom: 2rem;
    }
  }
  //#global-search{
  //  display:none;
  //}
  //#nav-pages{
  //  padding-left: 2rem;
  //}
  //#nav-internal{
  //  margin-right: 2rem;
  //}
}
// Vertical navigation
.nav-vertical() {
  .slideout-navigation();
  // Start overrides of the slieout plugin
  body {
    transition: none;
    transition: left .3s ease;
    transform: translateZ(1);
  }
  #nav-pages, #nav-user {
    transition: none;
    transition: left .3s ease;
  }
  #nav-pages {
    right: auto;
    left: -240px
  }
  // End overrride
  .global-search-vertical();
  #mobile-overlay {
    background: rgba(255, 255, 255, .6);
  }
  #nav {
    ul {
      // Reset the default styling of a .dropdown-menu when the navigation is on a small screen
      .dropdown-menu {
        position: relative;
        top: auto;
        left: auto;
        display: none;
        border: none;
        box-shadow: none;
        float: none;
      }
      //ul{
      //  display: none;
      //}
    }
    //position: absolute;
    //left: -100%;
  }
  #header {
    transition: left .3s ease;
    //transform: translate3d(0px,0px,0px);
  }
  #nav-pages {
    //top: 0rem;
    //margin-top: 4.4rem;
    padding-top: 5.2rem;
    z-index: -1;
    // Override .btn styling
    box-shadow: 1px 0 1px rgba(0, 0, 0, .1);
    a {
      position: relative;
      //background: pink;
      &.icon-down {
        &:after {
          content: "";
          position: absolute;
          top: 2rem;
          right: 1rem;
          width: 10px;
          height: 10px;
          display: block;
          //background-color: #f00;
          background: url(../images/icons/arrow-down.svg) no-repeat top right;
          background-size: 100%;
          transition: transform .3s ease;
        }
      }
      &.open {
        &:after {
          transform: rotate(180deg);
        }
      }
    }
    .btn-primary {
      background: none;
      color: @hiof-blue;
      border: none;
      border-bottom: 1px solid #eee;
      text-align: left;
      display: block;
      padding: 0;
      padding-left: 1rem;
      line-height: 4.4rem;
      border-radius: 0;
      &:hover {
        background-color: #eee;
      }
    }
    .dropdown-menu {
      .dropdown-menu {
        li {
          a {
            padding-left: 6rem;
            padding-right: 0;
          }
        }
      }
    }
  }
  #nav-internal {
    //li{
    //  display: inline-block;
    //  list-style: none;
    //}
    //margin: 0 4rem;
    padding: 2rem;
    width: 100%;
    background: @white;
    position: absolute;
    top: -24rem;
    left: 0;
    transition: top .3s ease;
    transform: translate3d(0px, 0px, 0px);
    z-index: -9;
    box-shadow: 0 1px 1px rgba(0, 0, 0, .1);
    li {
      list-style: none;
      margin-bottom: .5rem;
      a {
        display: block;
        text-align: left;
      }
    }
    &.show {
      top: 4.2rem;
    }
  }
  .mobile-pages, .mobile-user, .mobile-internal {
    top: 0rem;
  }
  .mobile-pages, .mobile-user, .mobile-internal {
    svg {
      width: 1.6rem;
      height: 1.6rem;
      float: left;
      margin-top: .8rem;
      margin-left: .8rem;
      .item {
        fill: #444;
      }
    }
  }


  .mobile-filter{
        //margin-top: 5px;
        //margin-right: 15px;
        //left: 5px;
        display: block;
        border: 1px solid #eee;
        border-radius: 4px;
        //width: 34px;
        height: 34px;
        text-align: center;
        line-height: 34px;
        color: #aaa;
        float: left;
        padding-left: .5rem;
  }

  .mobile-user {}
  .mobile-internal,
  .mobile-filter {
    position: absolute;
    top: .5rem;
    right: 6.5rem;
    float: right;
    border: 1px solid #eee;
    border-radius: @border-radius-standard;
    color: #aaa;
    line-height: 3.2rem;
    padding-right: .8rem;
    svg {
      margin-right: .5rem;
    }
  }
  #sidebar .nav {
    margin-bottom: 0;
  }
  .nav-page {
    padding-bottom: 0;
  }
  .mobile-pages {
    width: 8rem;
  }
  .push-right {
    #header {
      left: 240px;
    }
  }
  #logo-wrapper {
    //margin-left: 40px !important;
  }
  //#global-search{display:none;}
  //.nav-page{
  //  position: fixed;
  //  height: 33px;
  //  bottom: 0;
  //  width: 100%;
  //  background: #000;
  //  left: 0;
  //}
  .nav-page {
    //li{
    //  display: inline-block;
    //  list-style: none;
    //}
    //margin: 0 4rem;
    padding: 2rem;
    width: 100%;
    background: @white;
    position: absolute;
    //top: -150rem;
    left: 0;
    transition: top .3s ease;
    transform: translateZ(1);
    z-index: -9;
    box-shadow: 0 1px 1px rgba(0, 0, 0, .1);
    background-color: #fff;
    top: -100%;
    z-index: 997;
    //position: fixed;
    //overflow-y: scroll;
    li {
      list-style: none;
      margin-bottom: .5rem;
      a {
        display: block;
        text-align: left;
      }
    }
    &.show {
      top: 4.2rem;
    }
    .nav {
      margin-left: 2rem;
    }
  }
}
.universal() {
  @import "../../vendor/bootstrap/less/navs.less";
  //@import (inline) "../../vendor/filament-sticky/fixedsticky.css";
  // UI helper helper
  #nav-guide {
    background: fade(@black, 0%);
    transition: background .2s;
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 44px;
    margin-bottom: 0;
    //padding-top: 5px;
    padding-right: 2rem;
    //&:hover{
    //  background: @black;
    //}
    div {
      background: @black;
      padding: .5rem;
      border-top-left-radius: .4rem;
      border-top-right-radius: .4rem;
    }
  }
  .nav {
    li {
      margin-left: 0;
    }
  }
  #sidebar {
    .nav {
      margin-bottom: 4rem;
    }
  }
  //.nav{}
  #study {
    .nav {
      li {
        a {
          padding-right: 2.4rem;
          padding-top: 0;
          padding-bottom: 0;
          &.arrow-right {
            &:before, &:after {
              top: 1.6rem;
            }
          }
        }
      }
    }
  }
  //.nav-subpages{
  //  ul{
  //      //background: #eee;
  //      //padding: 2rem 0;
  //      border: 1px solid #eee;
  //  }
  //  li{
  //    list-style: none;
  //    a{
  //      display: block;
  //      padding:0 2rem;
  //      border-bottom: 1px solid #eee;
  //      line-height: 2.4;
  //    }
  //  }
  //}
  //.nav-page{
  //  li{
  //    list-style: none;
  //  }
  //}
  @media screen and (max-width: 769px) {
    .breadcrumb-vertical();
    .nav-vertical();
  }
  @media screen and (min-width: 770px) {
    .breadcrumb-horizontal();
    .nav-horizontal();
  }
}
.small() {
  //.nav-page-show{
  //  .nav-page{
  //    top: 4.4rem;
  //  }
  //}
}
.medium() {} .large() {
  #nav-pages {
    padding-left: 0;
  }
}
